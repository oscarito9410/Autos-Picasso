package com.oscar.autos;

import android.content.Intent;
import android.support.v7.app.AppCompatActivity;
import android.os.Bundle;
import android.text.TextUtils;
import android.view.View;
import android.widget.AdapterView;
import android.widget.GridView;
import android.widget.Toast;

import org.json.JSONArray;
import org.json.JSONException;
import org.json.JSONObject;

import java.util.ArrayList;

public class MainActivity extends AppCompatActivity implements AdapterView.OnItemClickListener {

    private GridView gridAutos;
    private AdapterAuto adpt;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        gridAutos=(GridView)findViewById(R.id.gridAutos);
        ArrayList<Auto>listAuto=leerJson();
        adpt=new AdapterAuto(this,listAuto);
        gridAutos.setAdapter(adpt);
        gridAutos.setOnItemClickListener(this);
    }


    @Override
    public void onItemClick(AdapterView<?> adapterView, View view, int position, long I)
    {
        Intent i=new Intent(this,DetalleActivity.class);
        Bundle bundle=new Bundle();
        bundle.putSerializable("autoSelected",adpt.getItem(position));
        i.putExtras(bundle);
        startActivity(i);
    }


    /**
     *  Lee la estructura del archivo json y lo almacena en una lista de objetos Auto
     * @return la lista de autos
     */
    private  ArrayList<Auto> leerJson(){
        ArrayList<Auto> listAutos = new ArrayList<>();

        try {
            JSONObject jsonObject=new JSONObject("{\"status\":\"success\",\"data\":{\"query\":{\"locale\":\"fr_fr\",\"query\":\"cars\",\"offset\":1},\"cache\":{\"key\":\"e58aa1ac24039363e0916ca0af00a00f\",\"created\":1511700754,\"expiration\":2592000,\"status\":\"miss\",\"age\":0},\"result\":{\"items\":[{\"title\":\"BERNARD CAR DESIGN: Borgward B7\",\"type\":\"image\",\"media\":\"http:\\/\\/2.bp.blogspot.com\\/-WBazi5G8c4g\\/VpknFug2BdI\\/AAAAAAAAAAg\\/i6lu0F9MexQ\\/s1600\\/Borgward%2Bbl7_006.png\",\"desc\":\"\",\"thumbnail\":\"\\/\\/s1.qwant.com\\/thumbr\\/329x200\\/2\\/d\\/c858323c2d300bb29f27ee8a6e575a\\/b_1_q_0_p_0.jpg?u=http%3A%2F%2F2.bp.blogspot.com%2F-WBazi5G8c4g%2FVpknFug2BdI%2FAAAAAAAAAAg%2Fi6lu0F9MexQ%2Fs1600%2FBorgward%252Bbl7_006.png&q=0&b=1&p=0&a=0&b_id=OIP.SzpALQoBbIGLywLnPf5DjwFADC\",\"thumb_width\":329,\"thumb_height\":200,\"width\":\"1200\",\"height\":\"729\",\"size\":\"988984\",\"url\":\"http:\\/\\/bernardcardesign.blogspot.com\\/2016\\/01\\/borgward-bl7.html\",\"_id\":\"07b62417b67c1c9868e10652d97caa40\",\"b_id\":\"OIP.SzpALQoBbIGLywLnPf5DjwFADC\",\"media_fullsize\":\"\\/\\/s1.qwant.com\\/thumbr\\/0x0\\/3\\/c\\/d3b216386a2730a3a7781e91882bd4\\/b_1_q_0_p_0.jpg?u=http%3A%2F%2F2.bp.blogspot.com%2F-WBazi5G8c4g%2FVpknFug2BdI%2FAAAAAAAAAAg%2Fi6lu0F9MexQ%2Fs1600%2FBorgward%252Bbl7_006.png&q=0&b=1&p=0&a=1\",\"thumb_type\":\"png\",\"count\":1},{\"title\":\"Concept Cars | Kanter Car Tales\",\"type\":\"image\",\"media\":\"http:\\/\\/kanter-car-tales.com\\/wp-content\\/uploads\\/2012\\/08\\/DG-Fred-in-car.jpg\",\"desc\":\"\",\"thumbnail\":\"\\/\\/s1.qwant.com\\/thumbr\\/266x200\\/9\\/5\\/5a5dc159146e2576ad3e13c3875dbb\\/b_1_q_0_p_0.jpg?u=http%3A%2F%2Fkanter-car-tales.com%2Fwp-content%2Fuploads%2F2012%2F08%2FDG-Fred-in-car.jpg&q=0&b=1&p=0&a=0&b_id=OIP.f-oSKdpbc4QUbpd6jWOr6gEsDh\",\"thumb_width\":266,\"thumb_height\":200,\"width\":\"2048\",\"height\":\"1536\",\"size\":\"2223947\",\"url\":\"http:\\/\\/kanter-car-tales.com\\/category\\/concept-cars\\/\",\"_id\":\"798790e159a90f84cbb179230d273bbd\",\"b_id\":\"OIP.f-oSKdpbc4QUbpd6jWOr6gEsDh\",\"media_fullsize\":\"\\/\\/s1.qwant.com\\/thumbr\\/0x0\\/3\\/5\\/d6f36e0cd3e9116d3f62929732b32b\\/b_1_q_0_p_0.jpg?u=http%3A%2F%2Fkanter-car-tales.com%2Fwp-content%2Fuploads%2F2012%2F08%2FDG-Fred-in-car.jpg&q=0&b=1&p=0&a=1\",\"thumb_type\":\"jpg\",\"count\":2},{\"title\":\"Qatar Car Mania!Carmudi Qatar Journal\",\"type\":\"image\",\"media\":\"https:\\/\\/www.carmudi.qa\\/journal\\/wp-content\\/uploads\\/2015\\/04\\/supercars-in-qatar-11.jpg\",\"desc\":\"\",\"thumbnail\":\"\\/\\/s1.qwant.com\\/thumbr\\/336x200\\/1\\/a\\/3adf9055e9dee0b99648d8935b3235\\/b_1_q_0_p_0.jpg?u=https%3A%2F%2Fwww.carmudi.qa%2Fjournal%2Fwp-content%2Fuploads%2F2015%2F04%2Fsupercars-in-qatar-11.jpg&q=0&b=1&p=0&a=0&b_id=OIP.lB0z3S9VfaT9F1dqAAOxiwFEDA\",\"thumb_width\":336,\"thumb_height\":200,\"width\":\"1600\",\"height\":\"951\",\"size\":\"144959\",\"url\":\"https:\\/\\/www.carmudi.qa\\/journal\\/qatar-car-mania\\/\",\"_id\":\"79626e748a22b1449f4dd49ef4dc363c\",\"b_id\":\"OIP.lB0z3S9VfaT9F1dqAAOxiwFEDA\",\"media_fullsize\":\"\\/\\/s2.qwant.com\\/thumbr\\/0x0\\/f\\/7\\/9dc28b1182862691d930e39a0329ab\\/b_1_q_0_p_0.jpg?u=https%3A%2F%2Fwww.carmudi.qa%2Fjournal%2Fwp-content%2Fuploads%2F2015%2F04%2Fsupercars-in-qatar-11.jpg&q=0&b=1&p=0&a=1\",\"thumb_type\":\"jpg\",\"count\":3},{\"title\":\"Frase Cars #1 | Desmotivaciones\",\"type\":\"image\",\"media\":\"http:\\/\\/img.desmotivaciones.es\\/201201\\/270.jpg\",\"desc\":\"\",\"thumbnail\":\"\\/\\/s1.qwant.com\\/thumbr\\/248x200\\/b\\/7\\/e9925dee6c7e4a2f7eca3bd4152bde\\/b_1_q_0_p_0.jpg?u=http%3A%2F%2Fimg.desmotivaciones.es%2F201201%2F270.jpg&q=0&b=1&p=0&a=0&b_id=OIP.iUVTHWr4AvWxHoRocN4JlQEsDx\",\"thumb_width\":248,\"thumb_height\":200,\"width\":\"650\",\"height\":\"524\",\"size\":\"34893\",\"url\":\"http:\\/\\/desmotivaciones.es\\/3913527\\/Frase-cars-1\",\"_id\":\"9c5b5692f3e6885df0261a737d979daf\",\"b_id\":\"OIP.iUVTHWr4AvWxHoRocN4JlQEsDx\",\"media_fullsize\":\"\\/\\/s1.qwant.com\\/thumbr\\/0x0\\/b\\/e\\/cd953baafa4d9f0a7390e0fbed1807\\/b_1_q_0_p_0.jpg?u=http%3A%2F%2Fimg.desmotivaciones.es%2F201201%2F270.jpg&q=0&b=1&p=0&a=1\",\"thumb_type\":\"jpg\",\"count\":4},{\"title\":\"Cars honda cr-v iv 2013 - Auto-Database.com\",\"type\":\"image\",\"media\":\"http:\\/\\/auto-database.com\\/image\\/cars-honda-cr-v-iv-2013-207598.jpg\",\"desc\":\"\",\"thumbnail\":\"\\/\\/s1.qwant.com\\/thumbr\\/266x200\\/2\\/7\\/f842949411be788d049926685356fe\\/b_1_q_0_p_0.jpg?u=http%3A%2F%2Fauto-database.com%2Fimage%2Fcars-honda-cr-v-iv-2013-207598.jpg&q=0&b=1&p=0&a=0&b_id=OIP.5dTqWd9zBOIXNFaj-8XEbQEsDh\",\"thumb_width\":266,\"thumb_height\":200,\"width\":\"1800\",\"height\":\"1350\",\"size\":\"274454\",\"url\":\"http:\\/\\/auto-database.com\\/images\\/cars-honda-cr-v-iv-2013-207598.jpg.html\",\"_id\":\"078297634c8317e6c120512aeec8d342\",\"b_id\":\"OIP.5dTqWd9zBOIXNFaj-8XEbQEsDh\",\"media_fullsize\":\"\\/\\/s1.qwant.com\\/thumbr\\/0x0\\/a\\/e\\/aa5facdc6ac1148a7f94da97ad8b5d\\/b_1_q_0_p_0.jpg?u=http%3A%2F%2Fauto-database.com%2Fimage%2Fcars-honda-cr-v-iv-2013-207598.jpg&q=0&b=1&p=0&a=1\",\"thumb_type\":\"jpg\",\"count\":5},{\"title\":\"Best Cars for Bogans\",\"type\":\"image\",\"media\":\"http:\\/\\/behindthewheel.com.au\\/wp-content\\/uploads\\/2014\\/02\\/image103363_b.jpg\",\"desc\":\"\",\"thumbnail\":\"\\/\\/s2.qwant.com\\/thumbr\\/317x200\\/c\\/2\\/5fdb39fed856003a6b83dc5650812e\\/b_1_q_0_p_0.jpg?u=http%3A%2F%2Fbehindthewheel.com.au%2Fwp-content%2Fuploads%2F2014%2F02%2Fimage103363_b.jpg&q=0&b=1&p=0&a=0&b_id=OIP.HwyRuRMi--HN63RPAaj9rgEsC9\",\"thumb_width\":317,\"thumb_height\":200,\"width\":\"1417\",\"height\":\"893\",\"size\":\"130227\",\"url\":\"https:\\/\\/behindthewheel.com.au\\/best-cars-for-bogans\\/\",\"_id\":\"89b8073b36b0ce8ca9df18faa5df02ae\",\"b_id\":\"OIP.HwyRuRMi--HN63RPAaj9rgEsC9\",\"media_fullsize\":\"\\/\\/s1.qwant.com\\/thumbr\\/0x0\\/8\\/d\\/8130ec7f1623b2ceb9f70ba2d9d038\\/b_1_q_0_p_0.jpg?u=http%3A%2F%2Fbehindthewheel.com.au%2Fwp-content%2Fuploads%2F2014%2F02%2Fimage103363_b.jpg&q=0&b=1&p=0&a=1\",\"thumb_type\":\"jpg\",\"count\":6},{\"title\":\"Bunk Bed Wild Custom Car &bull; Hollywood Cars Museum\",\"type\":\"image\",\"media\":\"http:\\/\\/hollywoodcarsmuseum.com\\/wp-content\\/uploads\\/2016\\/05\\/liberace_rolls_royce.jpg\",\"desc\":\"\",\"thumbnail\":\"\\/\\/s1.qwant.com\\/thumbr\\/300x200\\/a\\/c\\/ae3a1172fd602f0df09a0aec8f0349\\/b_1_q_0_p_0.jpg?u=http%3A%2F%2Fhollywoodcarsmuseum.com%2Fwp-content%2Fuploads%2F2016%2F05%2Fliberace_rolls_royce.jpg&q=0&b=1&p=0&a=0&b_id=OIP.QLmjANRBpgDJ3tm-P-68LQEsDI\",\"thumb_width\":300,\"thumb_height\":200,\"width\":\"1200\",\"height\":\"800\",\"size\":\"329235\",\"url\":\"http:\\/\\/hollywoodcarsmuseum.com\\/portfolio\\/bunk-bed-wild-custom-car\\/\",\"_id\":\"b2c3e77bef2c553aeef11b0267c9fcf5\",\"b_id\":\"OIP.QLmjANRBpgDJ3tm-P-68LQEsDI\",\"media_fullsize\":\"\\/\\/s2.qwant.com\\/thumbr\\/0x0\\/d\\/3\\/f4479847664f19901e1fed648f8143\\/b_1_q_0_p_0.jpg?u=http%3A%2F%2Fhollywoodcarsmuseum.com%2Fwp-content%2Fuploads%2F2016%2F05%2Fliberace_rolls_royce.jpg&q=0&b=1&p=0&a=1\",\"thumb_type\":\"jpg\",\"count\":7},{\"title\":\"The Best Luxury Cars for Retirement\",\"type\":\"image\",\"media\":\"http:\\/\\/www.carsforstars.co.uk\\/news\\/wp-content\\/uploads\\/2015\\/07\\/01-Porsche-911-main-image-large.jpg\",\"desc\":\"\",\"thumbnail\":\"\\/\\/s1.qwant.com\\/thumbr\\/300x200\\/1\\/6\\/97458a27efacadb70007dae603c591\\/b_1_q_0_p_0.jpg?u=http%3A%2F%2Fwww.carsforstars.co.uk%2Fnews%2Fwp-content%2Fuploads%2F2015%2F07%2F01-Porsche-911-main-image-large.jpg&q=0&b=1&p=0&a=0&b_id=OIP.WdmOiMPEB0XYRqcpmzXlzAEsDI\",\"thumb_width\":300,\"thumb_height\":200,\"width\":\"720\",\"height\":\"480\",\"size\":\"34730\",\"url\":\"http:\\/\\/www.carsforstars.co.uk\\/news\\/the-best-luxury-cars-for-retirement\\/2676\\/\",\"_id\":\"655e50d5c9f9c8de0a9beb4003fd1e59\",\"b_id\":\"OIP.WdmOiMPEB0XYRqcpmzXlzAEsDI\",\"media_fullsize\":\"\\/\\/s2.qwant.com\\/thumbr\\/0x0\\/e\\/f\\/1e22166d7436a85663a50bf4199993\\/b_1_q_0_p_0.jpg?u=http%3A%2F%2Fwww.carsforstars.co.uk%2Fnews%2Fwp-content%2Fuploads%2F2015%2F07%2F01-Porsche-911-main-image-large.jpg&q=0&b=1&p=0&a=1\",\"thumb_type\":\"jpg\",\"count\":8},{\"title\":\"Vehicles Race Car wallpapers (Desktop, Phone, Tablet ...\",\"type\":\"image\",\"media\":\"http:\\/\\/jonvilma.com\\/images\\/race-car-16.jpg\",\"desc\":\"\",\"thumbnail\":\"\\/\\/s2.qwant.com\\/thumbr\\/531x200\\/f\\/0\\/2d58993f597aad196a0b37b24fe8ca\\/b_1_q_0_p_0.jpg?u=http%3A%2F%2Fjonvilma.com%2Fimages%2Frace-car-16.jpg&q=0&b=1&p=0&a=0&b_id=OIP.wWMKFdZcWh0vPWHwg8nAXQEsBw\",\"thumb_width\":531,\"thumb_height\":200,\"width\":\"4177\",\"height\":\"1573\",\"size\":\"676997\",\"url\":\"http:\\/\\/jonvilma.com\\/race-car.html\",\"_id\":\"d8a8c802e09c0a49ff943dced67fdf1c\",\"b_id\":\"OIP.wWMKFdZcWh0vPWHwg8nAXQEsBw\",\"media_fullsize\":\"\\/\\/s1.qwant.com\\/thumbr\\/0x0\\/9\\/0\\/71f06930f25214d1fb44e61c4a55d6\\/b_1_q_0_p_0.jpg?u=http%3A%2F%2Fjonvilma.com%2Fimages%2Frace-car-16.jpg&q=0&b=1&p=0&a=1\",\"thumb_type\":\"jpg\",\"count\":9},{\"title\":\"AWESOME OLD CARS\",\"type\":\"image\",\"media\":\"http:\\/\\/awesomeoldcars.com\\/wp-content\\/uploads\\/2014\\/12\\/Volkswagen-Karmann-Ghia.jpg\",\"desc\":\"\",\"thumbnail\":\"\\/\\/s2.qwant.com\\/thumbr\\/300x200\\/6\\/b\\/524c8d3329e82785a967ba9e1f6b83\\/b_1_q_0_p_0.jpg?u=http%3A%2F%2Fawesomeoldcars.com%2Fwp-content%2Fuploads%2F2014%2F12%2FVolkswagen-Karmann-Ghia.jpg&q=0&b=1&p=0&a=0&b_id=OIP.ijjzpUajmXMxMuH-8jCQ0gEsDI\",\"thumb_width\":300,\"thumb_height\":200,\"width\":\"1200\",\"height\":\"800\",\"size\":\"197123\",\"url\":\"http:\\/\\/awesomeoldcars.com\\/volkswagen-karmann-ghia\\/awesome-old-cars\\/\",\"_id\":\"9d1e4f505900a721fe433e14e732e283\",\"b_id\":\"OIP.ijjzpUajmXMxMuH-8jCQ0gEsDI\",\"media_fullsize\":\"\\/\\/s1.qwant.com\\/thumbr\\/0x0\\/1\\/3\\/4ba19e1690eb42de25f8e7ec61be1e\\/b_1_q_0_p_0.jpg?u=http%3A%2F%2Fawesomeoldcars.com%2Fwp-content%2Fuploads%2F2014%2F12%2FVolkswagen-Karmann-Ghia.jpg&q=0&b=1&p=0&a=1\",\"thumb_type\":\"jpg\",\"count\":10},{\"title\":\"Ardalan Farboud: Arash Cars Project\",\"type\":\"image\",\"media\":\"http:\\/\\/4.bp.blogspot.com\\/_7foNEFtp684\\/TQE_1jtcGeI\\/AAAAAAAAADo\\/ncsSWgTj_NM\\/s1600\\/Image_0019+copy+3.jpg\",\"desc\":\"\",\"thumbnail\":\"\\/\\/s1.qwant.com\\/thumbr\\/320x200\\/8\\/a\\/f10054a408c24d7d7a13042504b9ed\\/b_1_q_0_p_0.jpg?u=http%3A%2F%2F4.bp.blogspot.com%2F_7foNEFtp684%2FTQE_1jtcGeI%2FAAAAAAAAADo%2FncsSWgTj_NM%2Fs1600%2FImage_0019%2Bcopy%2B3.jpg&q=0&b=1&p=0&a=0&b_id=OIP.xmhNOPAy8KYG9cO0hJOlGgEsC7\",\"thumb_width\":320,\"thumb_height\":200,\"width\":\"1600\",\"height\":\"1000\",\"size\":\"87713\",\"url\":\"http:\\/\\/ardalanfarboud.blogspot.com\\/2010\\/12\\/arash-cars-project.html\",\"_id\":\"be23c74dc2c50335e44cf7641c2647ea\",\"b_id\":\"OIP.xmhNOPAy8KYG9cO0hJOlGgEsC7\",\"media_fullsize\":\"\\/\\/s2.qwant.com\\/thumbr\\/0x0\\/d\\/1\\/0e964502637bbae93911592f9b1212\\/b_1_q_0_p_0.jpg?u=http%3A%2F%2F4.bp.blogspot.com%2F_7foNEFtp684%2FTQE_1jtcGeI%2FAAAAAAAAADo%2FncsSWgTj_NM%2Fs1600%2FImage_0019%2Bcopy%2B3.jpg&q=0&b=1&p=0&a=1\",\"thumb_type\":\"jpg\",\"count\":11},{\"title\":\"Best 25+ Custom cars ideas on Pinterest | Cool cars, Sexy ...\",\"type\":\"image\",\"media\":\"https:\\/\\/i.pinimg.com\\/736x\\/44\\/da\\/05\\/44da05dfcd71ae47562dbc589867fb82--a-rainbow-rainbow-cars.jpg\",\"desc\":\"\",\"thumbnail\":\"\\/\\/s1.qwant.com\\/thumbr\\/267x200\\/a\\/9\\/5d0602e221e123f99cd235e168ba4a\\/b_1_q_0_p_0.jpg?u=https%3A%2F%2Fi.pinimg.com%2F736x%2F44%2Fda%2F05%2F44da05dfcd71ae47562dbc589867fb82--a-rainbow-rainbow-cars.jpg&q=0&b=1&p=0&a=0&b_id=OIP.ApQ_Dg5wqMyXWjgkWUdAPgEsDg\",\"thumb_width\":267,\"thumb_height\":200,\"width\":\"736\",\"height\":\"551\",\"size\":\"111629\",\"url\":\"https:\\/\\/www.pinterest.com\\/explore\\/custom-cars\\/\",\"_id\":\"68e425b8dccada5835b1a2a8bc8c3d84\",\"b_id\":\"OIP.ApQ_Dg5wqMyXWjgkWUdAPgEsDg\",\"media_fullsize\":\"\\/\\/s1.qwant.com\\/thumbr\\/0x0\\/9\\/2\\/b6d1a1cc82edf838ca688cb0f894c2\\/b_1_q_0_p_0.jpg?u=https%3A%2F%2Fi.pinimg.com%2F736x%2F44%2Fda%2F05%2F44da05dfcd71ae47562dbc589867fb82--a-rainbow-rainbow-cars.jpg&q=0&b=1&p=0&a=1\",\"thumb_type\":\"jpg\",\"count\":12},{\"title\":\"Customers Cars | Bristol Cherished Cars\",\"type\":\"image\",\"media\":\"http:\\/\\/bristolcherishedcars.co.uk\\/wp-content\\/uploads\\/2014\\/03\\/IMAG0062.jpg\",\"desc\":\"\",\"thumbnail\":\"\\/\\/s2.qwant.com\\/thumbr\\/431x200\\/4\\/f\\/adfb79070d16ee07d33edf2322a538\\/b_1_q_0_p_0.jpg?u=http%3A%2F%2Fbristolcherishedcars.co.uk%2Fwp-content%2Fuploads%2F2014%2F03%2FIMAG0062.jpg&q=0&b=1&p=0&a=0&b_id=OIP.SZT9GpzCOPS0SHqs1BYedAEsCK\",\"thumb_width\":431,\"thumb_height\":200,\"width\":\"2459\",\"height\":\"1139\",\"size\":\"1125900\",\"url\":\"http:\\/\\/bristolcherishedcars.co.uk\\/?page_id=91\",\"_id\":\"225457c129348db433c440d56f0b4115\",\"b_id\":\"OIP.SZT9GpzCOPS0SHqs1BYedAEsCK\",\"media_fullsize\":\"\\/\\/s2.qwant.com\\/thumbr\\/0x0\\/f\\/6\\/6c8f0e2ee3dcbad8c99218d000f5d3\\/b_1_q_0_p_0.jpg?u=http%3A%2F%2Fbristolcherishedcars.co.uk%2Fwp-content%2Fuploads%2F2014%2F03%2FIMAG0062.jpg&q=0&b=1&p=0&a=1\",\"thumb_type\":\"jpg\",\"count\":13},{\"title\":\"#1126. GAZ Chaika Tuning [RUSSIAN CARS] - YouTube\",\"type\":\"image\",\"media\":\"https:\\/\\/i.ytimg.com\\/vi\\/KSXztlWZ2BM\\/maxresdefault.jpg\",\"desc\":\"\",\"thumbnail\":\"\\/\\/s2.qwant.com\\/thumbr\\/300x200\\/d\\/d\\/d4e24fd2eaccd8c8e092f7f0dd28db\\/b_1_q_0_p_0.jpg?u=https%3A%2F%2Fi.ytimg.com%2Fvi%2FKSXztlWZ2BM%2Fmaxresdefault.jpg&q=0&b=1&p=0&a=0&b_id=OIP.VLRhAnzPBYDKzm2MH2mLMQEsDH\",\"thumb_width\":300,\"thumb_height\":200,\"width\":\"1081\",\"height\":\"720\",\"size\":\"111393\",\"url\":\"http:\\/\\/www.youtube.com\\/watch?v=KSXztlWZ2BM\",\"_id\":\"e574cd0ca0b1a3743abf476531633dc1\",\"b_id\":\"OIP.VLRhAnzPBYDKzm2MH2mLMQEsDH\",\"media_fullsize\":\"\\/\\/s2.qwant.com\\/thumbr\\/0x0\\/d\\/5\\/47b571540321bd7ef20aa66fba7e7c\\/b_1_q_0_p_0.jpg?u=https%3A%2F%2Fi.ytimg.com%2Fvi%2FKSXztlWZ2BM%2Fmaxresdefault.jpg&q=0&b=1&p=0&a=1\",\"thumb_type\":\"jpg\",\"count\":14},{\"title\":\"2015 LDV New Cars - Photos (1 of 3)\",\"type\":\"image\",\"media\":\"http:\\/\\/s3.caradvice.com.au\\/wp-content\\/uploads\\/2014\\/12\\/ldv-g10.jpg\",\"desc\":\"\",\"thumbnail\":\"\\/\\/s2.qwant.com\\/thumbr\\/399x200\\/e\\/9\\/f1d9e7f0846c504443958b20931b85\\/b_1_q_0_p_0.jpg?u=http%3A%2F%2Fs3.caradvice.com.au%2Fwp-content%2Fuploads%2F2014%2F12%2Fldv-g10.jpg&q=0&b=1&p=0&a=0&b_id=OIP.DGb6PnCqHKqGJkduwPTIAAFhCw\",\"thumb_width\":399,\"thumb_height\":200,\"width\":\"1318\",\"height\":\"660\",\"size\":\"187083\",\"url\":\"http:\\/\\/www.caradvice.com.au\\/326561\\/2015-ldv-new-cars\\/photos\\/\",\"_id\":\"2f3142a8098be7fe06655da701abf314\",\"b_id\":\"OIP.DGb6PnCqHKqGJkduwPTIAAFhCw\",\"media_fullsize\":\"\\/\\/s2.qwant.com\\/thumbr\\/0x0\\/4\\/d\\/124a6a23d9276d1d52f1a243955a82\\/b_1_q_0_p_0.jpg?u=http%3A%2F%2Fs3.caradvice.com.au%2Fwp-content%2Fuploads%2F2014%2F12%2Fldv-g10.jpg&q=0&b=1&p=0&a=1\",\"thumb_type\":\"jpg\",\"count\":15},{\"title\":\"Race Car | New Car Full\",\"type\":\"image\",\"media\":\"http:\\/\\/3.bp.blogspot.com\\/-CFAdqF-X21g\\/VHd7VIU11nI\\/AAAAAAAACTU\\/lTArvG524Lk\\/s1600\\/race+car+1.jpg\",\"desc\":\"\",\"thumbnail\":\"\\/\\/s2.qwant.com\\/thumbr\\/307x200\\/4\\/e\\/ab8716289b8eda3b9c0efeb83562e5\\/b_1_q_0_p_0.jpg?u=http%3A%2F%2F3.bp.blogspot.com%2F-CFAdqF-X21g%2FVHd7VIU11nI%2FAAAAAAAACTU%2FlTArvG524Lk%2Fs1600%2Frace%2Bcar%2B1.jpg&q=0&b=1&p=0&a=0&b_id=OIP.xgShM_RJadfnFpUSmwiD9gE2DJ\",\"thumb_width\":307,\"thumb_height\":200,\"width\":\"1600\",\"height\":\"1040\",\"size\":\"179690\",\"url\":\"http:\\/\\/carifull.blogspot.com\\/2014\\/11\\/race-car.html\",\"_id\":\"656cc2cbe079abae0c45e4c2f4d8f4de\",\"b_id\":\"OIP.xgShM_RJadfnFpUSmwiD9gE2DJ\",\"media_fullsize\":\"\\/\\/s2.qwant.com\\/thumbr\\/0x0\\/5\\/8\\/9c68970112724d47b80a09c2c92faa\\/b_1_q_0_p_0.jpg?u=http%3A%2F%2F3.bp.blogspot.com%2F-CFAdqF-X21g%2FVHd7VIU11nI%2FAAAAAAAACTU%2FlTArvG524Lk%2Fs1600%2Frace%2Bcar%2B1.jpg&q=0&b=1&p=0&a=1\",\"thumb_type\":\"jpg\",\"count\":16},{\"title\":\"Cars To Expect In 2014: Latest News - Surf4cars ...\",\"type\":\"image\",\"media\":\"https:\\/\\/www.surf4cars.co.za\\/motoring-news\\/wp-content\\/uploads\\/2014\\/01\\/Cars-Collage.jpg\",\"desc\":\"\",\"thumbnail\":\"\\/\\/s1.qwant.com\\/thumbr\\/319x200\\/8\\/2\\/a3e67d303c707003598fb37aa538ac\\/b_1_q_0_p_0.jpg?u=https%3A%2F%2Fwww.surf4cars.co.za%2Fmotoring-news%2Fwp-content%2Fuploads%2F2014%2F01%2FCars-Collage.jpg&q=0&b=1&p=0&a=0&b_id=OIP.OHISNoVKoIah63VmSg-JBQEsC7\",\"thumb_width\":319,\"thumb_height\":200,\"width\":\"1666\",\"height\":\"1042\",\"size\":\"450000\",\"url\":\"https:\\/\\/www.surf4cars.co.za\\/motoring-news\\/cars-expect-2014-latest-news-surf4cars\\/\",\"_id\":\"e82e52b6f41776cbbde85ff166afa4ad\",\"b_id\":\"OIP.OHISNoVKoIah63VmSg-JBQEsC7\",\"media_fullsize\":\"\\/\\/s1.qwant.com\\/thumbr\\/0x0\\/b\\/8\\/e9e5d5b66ed1cc024f8c8f554e4979\\/b_1_q_0_p_0.jpg?u=https%3A%2F%2Fwww.surf4cars.co.za%2Fmotoring-news%2Fwp-content%2Fuploads%2F2014%2F01%2FCars-Collage.jpg&q=0&b=1&p=0&a=1\",\"thumb_type\":\"jpg\",\"count\":17},{\"title\":\"1961 MESSERSCHMITT KR-200 BUBBLE CAR - 182404\",\"type\":\"image\",\"media\":\"https:\\/\\/cdn.barrett-jackson.com\\/staging\\/carlist\\/items\\/Fullsize\\/Cars\\/182404\\/182404_Front_3-4_Web.JPG\",\"desc\":\"\",\"thumbnail\":\"\\/\\/s1.qwant.com\\/thumbr\\/300x200\\/a\\/2\\/bfc2873a0682cc6272555905acaf01\\/b_1_q_0_p_0.jpg?u=https%3A%2F%2Fcdn.barrett-jackson.com%2Fstaging%2Fcarlist%2Fitems%2FFullsize%2FCars%2F182404%2F182404_Front_3-4_Web.JPG&q=0&b=1&p=0&a=0&b_id=OIP.RoNNOL9ibNPr73ULhXtjDAEyDM\",\"thumb_width\":300,\"thumb_height\":200,\"width\":\"1000\",\"height\":\"666\",\"size\":\"59508\",\"url\":\"https:\\/\\/www.barrett-jackson.com\\/Events\\/Event\\/Details\\/1961-MESSERSCHMITT-KR-200-BUBBLE-CAR-182404\",\"_id\":\"99ac54e7be56ac09ae9e200e8eee4a4d\",\"b_id\":\"OIP.RoNNOL9ibNPr73ULhXtjDAEyDM\",\"media_fullsize\":\"\\/\\/s2.qwant.com\\/thumbr\\/0x0\\/4\\/f\\/704c1c43682f9d00eb863e0e2e9684\\/b_1_q_0_p_0.jpg?u=https%3A%2F%2Fcdn.barrett-jackson.com%2Fstaging%2Fcarlist%2Fitems%2FFullsize%2FCars%2F182404%2F182404_Front_3-4_Web.JPG&q=0&b=1&p=0&a=1\",\"thumb_type\":\"jpg\",\"count\":18},{\"title\":\"Sell your car | Great British Classic Cars\",\"type\":\"image\",\"media\":\"http:\\/\\/www.greatbritishclassiccars.com\\/wordpress\\/wp-content\\/uploads\\/-2017-04-26\\/IMG_8652.jpg\",\"desc\":\"\",\"thumbnail\":\"\\/\\/s2.qwant.com\\/thumbr\\/331x200\\/c\\/2\\/9cf2b2f2cdba027eab931e4ba9abdd\\/b_1_q_0_p_0.jpg?u=http%3A%2F%2Fwww.greatbritishclassiccars.com%2Fwordpress%2Fwp-content%2Fuploads%2F-2017-04-26%2FIMG_8652.jpg&q=0&b=1&p=0&a=0&b_id=OIP.-CVSXrJ0wAetIFSci_PbQAFCDC\",\"thumb_width\":331,\"thumb_height\":200,\"width\":\"1500\",\"height\":\"904\",\"size\":\"224524\",\"url\":\"http:\\/\\/www.greatbritishclassiccars.com\\/sell-your-car\\/\",\"_id\":\"e7cb2c76866094299d22495ec9ef04d7\",\"b_id\":\"OIP.-CVSXrJ0wAetIFSci_PbQAFCDC\",\"media_fullsize\":\"\\/\\/s1.qwant.com\\/thumbr\\/0x0\\/1\\/7\\/a6a4d839f474edd81fb48d71c9aa5f\\/b_1_q_0_p_0.jpg?u=http%3A%2F%2Fwww.greatbritishclassiccars.com%2Fwordpress%2Fwp-content%2Fuploads%2F-2017-04-26%2FIMG_8652.jpg&q=0&b=1&p=0&a=1\",\"thumb_type\":\"jpg\",\"count\":19},{\"title\":\"Donk Cars - 06\",\"type\":\"image\",\"media\":\"http:\\/\\/www.dpccars.com\\/gallery\\/var\\/albums\\/Donk-Cars\\/Donk%20Cars%20-%2006.jpg?m=1379551619\",\"desc\":\"\",\"thumbnail\":\"\\/\\/s2.qwant.com\\/thumbr\\/266x200\\/d\\/6\\/e6ec4ccaeb35c396699666cb99c2fb\\/b_1_q_0_p_0.jpg?u=http%3A%2F%2Fwww.dpccars.com%2Fgallery%2Fvar%2Falbums%2FDonk-Cars%2FDonk%2520Cars%2520-%252006.jpg%3Fm%3D1379551619&q=0&b=1&p=0&a=0&b_id=OIP.PULwaFi5zwpRvXRvU5x1-gEsDh\",\"thumb_width\":266,\"thumb_height\":200,\"width\":\"1024\",\"height\":\"768\",\"size\":\"221491\",\"url\":\"http:\\/\\/www.dpccars.com\\/gallery\\/index.php\\/Donk-Cars\\/Donk-Cars-06\",\"_id\":\"702d0ecc9285f06105292ca493234923\",\"b_id\":\"OIP.PULwaFi5zwpRvXRvU5x1-gEsDh\",\"media_fullsize\":\"\\/\\/s1.qwant.com\\/thumbr\\/0x0\\/3\\/8\\/ff22de12d385436777f1d37b454720\\/b_1_q_0_p_0.jpg?u=http%3A%2F%2Fwww.dpccars.com%2Fgallery%2Fvar%2Falbums%2FDonk-Cars%2FDonk%2520Cars%2520-%252006.jpg%3Fm%3D1379551619&q=0&b=1&p=0&a=1\",\"thumb_type\":\"jpg\",\"count\":20}],\"filters\":{\"size\":{\"label\":\"Size\",\"name\":\"size\",\"type\":\"dropdown\",\"selected\":\"all\",\"values\":[{\"value\":\"all\",\"label\":\"All sizes\",\"translate\":true},{\"value\":\"small\",\"label\":\"Small\",\"translate\":true},{\"value\":\"medium\",\"label\":\"Medium\",\"translate\":true},{\"value\":\"large\",\"label\":\"Large\",\"translate\":true}]},\"license\":{\"label\":\"License\",\"name\":\"license\",\"type\":\"dropdown\",\"selected\":\"all\",\"values\":[{\"value\":\"all\",\"label\":\"All\",\"translate\":true},{\"value\":\"public\",\"label\":\"Public domain\",\"translate\":true},{\"value\":\"share\",\"label\":\"Free to share and use\",\"translate\":true},{\"value\":\"sharecommercially\",\"label\":\"Free to share and use commercially\",\"translate\":true},{\"value\":\"modify\",\"label\":\"Free to modify, share, and use\",\"translate\":true},{\"value\":\"modifycommercially\",\"label\":\"Free to modify, share, and use commercially\",\"translate\":true}]},\"source\":{\"label\":\"Source\",\"name\":\"source\",\"type\":\"dropdown\",\"selected\":\"web\",\"values\":[{\"value\":\"web\",\"label\":\"Web\",\"translate\":true},{\"value\":\"flickr\",\"label\":\"Flickr\",\"translate\":false},{\"value\":\"500px\",\"label\":\"500px\",\"translate\":false}]}},\"domain\":\"web\",\"version\":\"B\",\"last\":true}}}");


            if(jsonObject.has("data")){
                     JSONObject jsonData = jsonObject.getJSONObject("data");
                     JSONObject jsonResult = jsonData.getJSONObject("result");
                     //Arreglo de imagenes
                     JSONArray jsonItems = jsonResult.getJSONArray("items");
                     for (int i = 0; i < jsonItems.length(); i++) {
                         String titulo = jsonItems.getJSONObject(i).getString("title");
                         String urlImagen = jsonItems.getJSONObject(i).getString("media");
                         String fuente = jsonItems.getJSONObject(i).getString("url");
                         listAutos.add(new Auto(titulo, urlImagen, fuente));
                     }

                     if (!listAutos.isEmpty()) {
                         Toast.makeText(this, "La lista no esta vacia tiene" + listAutos.size() +                        "elementos", Toast.LENGTH_SHORT).show();
                     }
                 }
                 else{
                     Toast.makeText(this, "No tiene el atributo data", Toast.LENGTH_SHORT).show();
                 }
        } catch (JSONException e) {
            e.printStackTrace();
        }
        return  listAutos;
    }



}
